<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://JieLeo.github.io/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://JieLeo.github.io/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://JieLeo.github.io/css/github.min.css' />
    <link rel="stylesheet" href='https://JieLeo.github.io/css/github-style.css' />
    <link rel="stylesheet" href='https://JieLeo.github.io/css/light.css' />
    <link rel="stylesheet" href='https://JieLeo.github.io/css/dark.css' />
    <link rel="stylesheet" href='https://JieLeo.github.io/css/syntax.css' />
    <title>Daily - Leo&#39;s blog</title>
    
    <link rel="icon" type="image/x-icon" href='/images/github.png'>
    
    <meta name="theme-color" content="#1e2327">

    
    <meta name="description"
  content="小米训练营日报" />
<meta name="keywords"
  content='blog, google analytics' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://JieLeo.github.io/post/xiaomi_bootcamp/daily/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Daily - Leo&#39;s blog" />
<meta name="twitter:description"
  content="小米训练营日报" />
<meta name="twitter:site" content="https://JieLeo.github.io/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://JieLeo.github.io/">


<meta property="og:type" content="article" />
<meta property="og:title" content="Daily - Leo&#39;s blog">
<meta property="og:description"
  content="小米训练营日报" />
<meta property="og:url" content="https://JieLeo.github.io/post/xiaomi_bootcamp/daily/" />
<meta property="og:site_name" content="Daily" />
<meta property="og:image"
  content="https://JieLeo.github.io/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2024-05-01 21:17:04 &#43;0800 CST" />










</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://JieLeo.github.io/">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://JieLeo.github.io/">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://JieLeo.github.io/">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://JieLeo.github.io/">
                  <img class=" avatar-user"
                    src="https://JieLeo.github.io/images/TK.png"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://JieLeo.github.io/">Leo</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://JieLeo.github.io/post/xiaomi_bootcamp/daily/">Daily</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Wed, 01 May 2024 21:17:04 &#43;0800"
                    class="no-wrap">
                    Wed, 01 May 2024 21:17:04 &#43;0800</relative-time>

                  
                  <span class="file-info-divider"></span>
                  Modified <relative-time datetime="Mon, 24 Mar 2025 22:28:16 &#43;0800"
                    class="no-wrap">
                    Mon, 24 Mar 2025 22:28:16 &#43;0800</relative-time>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      10701 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><h1 id="小米训练营日报">小米训练营日报</h1>
<pre tabindex="0"><code>
 5/1
安卓历史 1.0-4.4 完善功能 JIT
	5.0-7.0 墓碑机制，画中画 AOT
	8.0 硬件加速，安全机制 JIT+AOT

安卓构架剖析
	架构体系
		System Apps
			系统内置应用程序及非系统级应用程序，与用户进行直接交互
		java api framework
			java类和库，用于构建应用程序和处理与设备硬件和系统交互功能
			Activity：界面窗口
			Service：后台执行长时间运行的操作
			BroadcastReceiver：接受系统广播信息和应用内部广播消息，并响应
			Content Provider:应用间共享数据
			view、SQLite数据库等
		native c/c++  Libraries 	Android Runtime
			类库，开发者可引用库加速应用程序开发，降低成本和复杂度
			渲染、轻型数据库等第三方类库

			ART：提供apk虚拟空间同时执行DEX文件
			AOT和JIT编译，优化和垃圾回收等
		Hardware Abstraction Layer(HAL) (硬件抽象)
			提供与硬件交互的接口，让Android框架和应用程序能够访问设备硬件功能
			保护源码
		Linux Kernel(硬件驱动)
			显示、相机、蓝牙、闪存、进程、usb、键盘、wifi、音频、电源等
		power management
			电源管理
			cpu调度
			设备唤醒控制
			电池管理
			功耗统计

	开机启动
		自下而上进程启动
	启动Log
		logcat :用于查看系统中的日志信息（程序输出、系统事件，错误信息等
		dmesg：查看Linux内核启动过程中的消息和硬件相关信息（设备探测，硬件信息、内核模块加载信息等
	
	git操作
		分布式源代码管理工具
		Workspace-Index-Local Repository-Remote Repository
		add(-u)	commit/commit(-a)	push	
		pull or rebase
		fetch	checkout HEAD
			checkout
			diff HEAD
			diff
		ssh密钥对
		建立	ssh-keygen -t rsa -b 4096 -C&#34;邮箱&#34;
		密钥	cat id_rsa.pub
		验证	ssh -T git@git.n.xiaomi.com
		
		git checkout =&gt;工作区
		git reset =&gt;暂存区
	
	android stdio
		创建项目
		页面操作
			虚拟机sdk34
			app目录
			build.gradle（依赖配置等
			src目录（源码和资源
				java目录（源码
					MainActivity.java（主
				res目录（资源文件
			release/debug（打包后的程序
			
		
		签名=&gt;Build/generate signed bundle=&gt;密钥=&gt;release打包
		
	Apk包构成
		Dex：.class文件处理后产物，Android系统的可执行文件，核心源码
		Resource：资源文件
		静态资源
		库文件lib
		签名文件（META-INF
		编译资源（res
		资源映射（resources.arsc
		
	构建过程
		编译=&gt;链接=&gt;打包=&gt;签名

	gradle配置工程
		配置build
		依赖的第三方库
		指令：./gradlew build =&gt;编译
	adb（Android调试桥
		组件：客户端、守护进程、服务器
		开发者模式=&gt;shell启动adb客户端进程=&gt;启动adb服务进程并连接=&gt;adb服务进程与设备守护进程连接
		adb命令
		安装手机
android stdio代码
	Java语法

===================================================

5/2

四大组件
	Activity：提供用户界面和交互，提供单独的屏幕
		AS创建项目后自动生成MainActivity
			继承
			res/layout中形成清单
			在AndroidManifest.xml文件中声明
			手动创建=&gt;java=&gt;com.--=&gt;创建新的Activity
		生命周期
			方法函数
				onCreate()/onStart()/onResume()&lt;两个ac交换节点&gt;/Activity running
				onPause()/onStop()&lt;不可见&gt;/onRestart()&lt;在stop后，转换可见性&gt;/onDestory()
			可见性区分窗口流程
		
		查看activity任务栈	
			定义启动模式：在androidmanifest.xml中声明 launchMode
				启动模式：standard（默认）
					singleTop（一个任务可以拥有多个实例，顶部全弹出
					singleTask（一次智能有一个实例存在，创新or调用现有
					singleInstance（与task相似，始终是其任务唯一成员，由该activity启动的任何其他都另起
			设置intent标记
			adb shell dumpsys activity activities

		Intent（消息传递对象
			可以用来启动四大组件和组件之间传递数据
			显式Intent：指定特定组件，通过直接设置组件名称调起组件
			隐式Intent：通过一系列函数启用组件（多个不知道的连接
			对应方法
		IntentFilter
			可以通过AndroidManifest.xml中声明&lt;intent-filter&gt;标签来公布需要匹配的隐式intent
		
		避坑指南
			资源回收：生命周期结束时
			内存泄漏：避免在Activity中引用长生命周期对象
			Context使用：避免持有Activity的引用
			生命周期管理：真确管理资源
			横竖屏切换：切换时activity会销毁并重新创建
	Service：后台运行组件，用于执行长时间运行的任务或处理与用户界面无关操作
		前台服务（例如音乐通知
		后台服务（无界面

		生命周期
			onCreate()-onStartCommand()-onBind()-onStart()-onUnbind()-onDestroy()

		onbind方法返回值，需要连接service
		
		进程介绍
			创建独立进程的Service	android:process=&#34;remote&#34;
			跨进程通信：
				AIDL
				Messager
			Parcelable与Serializable

		避坑指南
			服务被杀死：内存不足杀死后台，可使用前台服务显示通知提高优先级
			内存泄漏：服务未正确停止。确保stopSelf()或stopService()，并释放资源
			主线程阻塞：服务中执行长时间运行操作，可能触发。使用后台线程或异步任务
			无法与服务通信：可能由于绑定服务时返回IBinder对象为null
			serviceconnection问题：绑定服务时，确保正确实现ServiceConnection接口。

	Broadcast Receiver：接受和响应广播消息的组件
		注册方式：
			在AndroidManifest.xml中声明（静态注册&gt;继承
			在代码中通过java来注册（通常在特定的页面，内部类
		避坑指南：
			若不需向外发广播，使用库提供的localbroadcastmanager
			许多未注册广播占用内存
			
	Content Provider：管理应用程序数据的组件
		Uri：scheme,authority和path构成
		ContentResolver负责与ContentProvider进行通信
			查询数据 query
			删除数据 delete
			更新数据 update
			注册和发送 
		避坑指南
			权限申请
			异步加载
			Cursor生命周期
			缓存结果
			错误处理
			

AIDL	
	Android Interface Definition Language,安卓接口定义语言
		用于解决Android的跨进程通信功能

	实机操作
		服务端--客户端
		配置aidl（构建）
		构建java类文件（bind绑定服务&lt;定向绑定
		修改manifest.xml文件
		启动服务端和客户端
		
=======================================================
5/3
Fragment
	activity弊端：
		复杂代码量臃肿
		页面模块难以复用
		启动消耗资源大
		视觉效果不好
	
	Fragment位于acticity上层视图，-&gt;单个activity可以有多个Fragment
	单Ac+多Fr	   性能高，速度快（GooglePlay
	多模块Ac+多Fragment	速度快，更易维护（游戏中心
	
	操作：
		maven依赖文件（as配置自带
		静态添加
			xml文件通过android：name属性声明具体Fragment
			创建后无法修改，必须具备无参构造方法，无法设置初始参数

		动态添加
			在代码中创建和管理，独立于布局文件
			 setContentView(R.layout.fragment_dynamic);
        				getSupportFragmentManager()
                				.beginTransaction()
                				.add(R.id.dynamic_fragment_container, DynamicFragment, &#34;dynamicFragment&#34;)
                				.commit();
FragmentManager
	提交的每组Fragment更改称为一个”事务“，可以使用FragmentTransaction类提供的API指定的事务内执行某种事物
	add/remove/show/hide/replace/attach/detach/setCustomAnimations/addToBackStack/commit/commitNow
	
	异常使用case
		在错误的生命周期调用了commit方法
	add添加，原Fragment重叠在下面
		1.用hide隐藏
		2.用replace
	commit与commitNow
		合理安排时序

Fragment生命周期
	onCreate()-&gt;onCreateView()-&gt;onViewCreated()-&gt;onViewStateRestored()-&gt;onStart()-&gt;
	onResume()-&gt;onPause()-&gt;onStop()-&gt;onSaveInstanceState()-&gt;onDestroyView-&gt;onDestroy()

Fragment回退栈
	onSaveInstanceState()

Fragment通信方式
	与Activity通信
		1.Fragment定义接口，Activity实现接口，运行时获取接口实现
		2.Fragment声明public方法，外部Activity调用public方法
		3.Fragment-startActivityForResult（与下一ac通信，可以实现与Activity中同样效果
	与Fragment通信
		1.Fragment Result API-&gt;A收B

ViewPager+Fragment
	ViewPager
		允许左右滑动的布局管理器，不同页面带有不同数据
		ViewPager2
	
Fragment动画
	FragementAPI提供两种互斥方式
		1.FragmentTransaction.setCustomAnimations(enter,exit,popEnter,popExit)
			配置xml文件
		2.Fragment.setExitTransition(exit)/set.....

==========================================================
5/4
Android UI 原理
	View常用属性
		id：任何view对象都有id，是唯一标识属性
		layout_width/heigth：宽、高等
			像素（px）、分辨率、屏幕尺寸（in）、像素密度(dpi)、标准屏幕像素密度（mdpi）
			dp与px的换算
		采用values下换源
		字体间距、重体、样式层级、位置，textview有控件长度。
		textview跑马灯效果、富文本
		button控件实现
		xml实现背景切换
			radionbutton单选按钮，radionbutton放入radiogroup按钮组中
			checkBox可以同时选中多个
			ToggleButton：状态开关按钮	Switch：开关
		EditText
			digits/inputType/email.... 输入限制
			输入框背景
			光标选择和移动（范围
			软键盘遮挡问题
		 ImageView
			设置图片
		 Bitmap
			位图，可以看作画架，将图放上去进行处理（文件信息，旋转切割，放大缩小
		progressBar
			进度条展示
		seekBar
			设置图片旋转角度和透明度
		RecyclerView（列表效果
			xml中引入
			代码设置绑定
			drawable
				分割线
			实现列表增删
				notifyItemInserd()与notifyItemRemoved()
				仅会通知当前项的改变，其他项索引不会发生改变
		Viewpager适配器

=========================================================

5/5
Android 布局与优化
	
	布局简介
		布局类型
			传统布局-&gt;框架布局
				 线性布局
				 相对布局
				 表格布局
				 绝对布局
			
			新型布局-&gt;约束布局
		
		共有属性
			layout_gravity	控件相对于父控件的对齐方式
			gravity	控件内部对齐方式
			paddingTop/Bottom/Left/Right 	padding内间距
			layout_width	控件宽度
			layout_height	控件的高度
			layout_margin	外间距
				Left、Right、Top、Bottom

		动态代码 	控制代码中写入布局

		框架布局（FrameLayout
			最基本的布局
			常用于子视图叠层
		
		线性布局（RelativeLayout
			orientation	排列方式
			layout_weight	权重
		
		相对布局（ConstraintLayout
			可以灵活控制子控件的位置和大小的新布局方式
			app:layout_constraintLeft_toFightOf=&#34;id&#34;

		表格布局（TableLayout
			android:collapseColumns	指定隐藏列
			android:stretchColunms	设定指定列为可伸展，空白填满，逗隔
			android:shrinkColumns	设定可收缩，逗隔
		绝对布局
			固定位置，较为死板，不经常使用
			
		新式布局
			ConstraintLayout优点
				1.功能强大，几乎能实现其他布局所有功能
				2.能减少布局层次的嵌套，有性能优势
				3.可视化操作的增强，大部分界面用它都能完成
			缺点：不是很精确

			宽高百分比
			链条
			group组的形式，一起控制不同的view
			textview定位基于文字基准线
			角度定位：约束两个控件的中心
			等
	ConstraintLayout 2.0
		继承ConstraintLayout.helper类
		对约束进行帮助

	Layer等


==============================================================
5/6
组件库的阐述和常用组件库原理
	定义：一组可重用的ui组件和工具，用于构建应用程序
		1.提高开发效率，降低成本
		2.保证程序一致性和可靠性
		3.提高程序可扩展性

	组件库的依赖、定制和发布
		AAR：包含了Android库项目的代码、资源文件和清单文件等信息，可以被其他Android应用程序引用和使用
		JAR：包含java类文件、资源文件和清单文件等信息，可被其他java应用程序引用和使用
		基于gradle构建和发布——&gt;支持方式：runtimeOnly（运行中参与，编译不参与
						compileOnly（旨在编译有效，不参与打包到apk
						api（传递所依赖库，当其他module依赖该module时可使用api依赖库
						implementation（只会在当前module中生效
		发布方式
					
	图片组件库的应用和原理
		Glide图片库的使用
			1.基本API调用
				Glide.with(this).load(&#34;url&#34;).into(imageView);
			2.依赖引入方式
				dependencies{
					implementation&#39;&#39;}
		Glide样式库
			支持裁剪，颜色饱和度，高斯模糊等
			1.基本API调用
				Glide.with(this).load(&#34;url&#34;).apply(参数).into(imageView)
			2.依赖引入
		Glide原理-图片加载缓存机制
				1.缓存策略
				2.缓存键
				3.核心线程池
			图片加载机制
				1.先从ActiveResources获取，是个值为弱引用的Map
				2.MemoryCache和DiskCache是LruCache
				3.图片加载时会从MemoryCache移动到AR,声明周期结束后会缓存至MemoryCache
				内存中至多有一份缓存
			生命周期管理机制
	事件传递组件的应用和原理
		EventBus组件介绍
			适用于Android和java的发布/订阅事件总线，便于实现多线程间的消息通信
			优点很多，优于broadcast
		四种线程模型
			posting/main/background/async
			事件传递库使用参考
				EventBus.getDefault().register(this);
				EventBus.getDefault().unregister(this);

				@Subscribe(threadMode = ThreadMode.MAIN) 
				public void onMessageEvent(MessageEvent message) {
			 		((TextView) findViewById(R.id.text)).setText(message.text); 
				}

				MessageEvent event = new MessageEvent(); 
				event.text = &#34;bbb&#34;; 
				EventBus.getDefault().post(event);

				public class MessageEvent {
 					public String text; 
				}
		
	瀑布流实现
		适用于浏览众多带图模块，大小不一
		StaggeredGridLayoutManager布局管理器
		核心实现：
			1.xml中添加一个RecyclerView
			&lt;androidx.
			2.在activity或fragment中初始化RecyclerView和适配器
			3.创建适配器类 MyAdapter，并实现CreateViewHolder/onBindViewHolder和getItemCount方法
			（原理重复利用
		下拉刷新：
			SwipeRefreshLayout控件
				支持List，recycler,不支持上拉刷新
				监听下拉（列表到底
				
			由BRVAH实现--&gt;上拉加载更多
			
		BaseRecyclerViewAdapterHelper组件
			灵活强大的循环适配器，大大提高研发效率，相比原生研发效率提高70%
			列表动画、点击/长按事件
			单布局/多布局模式
	更多开源组件&lt;

==============================================================、
5/7
Android动画
	基本概念和原理
		会动的画
		类型
			视图动画
				帧动画（作用于view，xml资源文件插入
				addFrame(),setOnshot(),
				补间动画（基础动画（anim下创建xml文件通过调用方法加或者用动态代码实现
					平移动画&lt;translate&gt;
					缩放&lt;scale&gt;
					旋转&lt;rotate&gt;
					透明度&lt;alpha&gt;
					组合动画&lt;set&gt;
			属性动画
				ObjectAnimator对象
				playtogether-&gt;同时播放


=================================================================
5/8
自定义控件的实现
	View绘制过程
		activity和view的关系：activity的中展示的内容由window类承担
				window创建根布局demoView
		viewgroup和view关系：树形父子
		绘制界面过程：
			1.计算view的宽高--measure
			2.分配view的位置--layout
			3.绘制view的内容--draw
		布局树逐级向下调用：measure-&gt;layout-&gt;draw
		位置的描述依赖坐标系：
			Android的坐标系定位：左上角为原点，x-y
			bottom、top、left、right
	自定义View
		draw函数
			绘制内容在给定的Canvas上
			在layout之后触发调用
			自定义View时优先重写onDraw方法而不是这个方法
			若一定要重写draw，要记得调用父类（希望修改现有绘制步骤
			7个步骤：（模板设计模式
				1.绘制背景
				2.若必要，保存画布图层已准备淡入淡出
				3.绘制内容
				4.绘制子View（调用childView.draw
				5.若必要，绘制淡入淡出并恢复图层
				6.绘制装饰
				7.若必要，绘制默认焦点高亮
		onDraw函数（第三步-绘制内容
			绘制内容在给定的Canvas上：
				绘制基本几何形状
					drawRect/drawCicle/drawOval
				使用路径定义复杂图形
					drawPath
				绘制文本
					drawText
				绘制位图图像
					drawBitmap
				设置绘制的颜色和样式
					drawColor/drawPaint
				对画布进行变换（平移旋转缩放
					translate/rotate
				在画布上创建和操作图层，实现图层效果
					save()/restore()
			Paint类配合提供绘制参数
			Path类配合描述复杂图形
	自定义ViewGroup
		measure函数
			计算View的宽高
			调用onMeasure完成真正的计算工作，子类重写onMeasrue（int w,int h
			final修饰该方法，不可重写
			int值32位

			MeasureSpec类
				getSize()解析specSize/getMode()解析specMode
				makeMeasureSpec()组装数据
			MeasureSpec高2位为SpecMode，即测量模式
				UNSPECIFED	父view对子view的大小不做限制
				EXACTLY		父计算好子的具体宽和高，子view的最终大小就是SpecSize指定的大小
				AT_MOST		不超最大值

			流程：MeasureSpec作为onMeasure的入参传入
				-&gt;onMeasure函数实现
				-&gt;调用setMeasuredDimension（int,int）保存好自己设定的宽和高
			MeasureSpec计算公式：
				子view的布局参数+父view的测量要求=子view的MeasureSpec
			根布局DecorView的测量要求：窗口大小+窗口布局参数

		layout函数
			布局机制的第二阶段
			给所有的子view分配位置
			在这个阶段，每个父view调用其所有子view的layout的方法来确定他们的位置
			派生类不应覆盖这个方法。由ziview 的派生类应该覆盖看“layout”方法

			onLayouthan函数
				被layout方法调用
				为该布局的子view分配位置
				由子view的派生类应该重写这个方法，并对每个子view调用layout方法，
					通常是测量时储存的子view尺寸

		getMeasured和getHeight区别（一般二者取宽高相等
			作用	时机	方法
			测量	measure	setMeasuredDimension
			最终	layout	layout中传递的4个参数间的运算

		自定义属性
			在res/values新建attrs.xml文件
			属性类型：
				reference
				color
				dimension
				float
				integer
				boolean
				string
				fraction
				enum
				flag
				混合类型
	响应手势操作（事件流
		MotionEvent类（运动事件：ACTION+事件位置
			ACTION_DOWN（按下
			ACTION_POINTER_DOWN（第n个手指按下
			ACTION_MOVE（移动
			ACTION_UP（抬起
			ACTION_POINTER_UP（多指按下的前提下，抬起一根手指
			ACTION_CANCEL（取消

		用户的真实有意义的收拾是由多个MotionEvent组成

		GestureDetector类
			提供封装好的手势判断结果
			onDown
			onShowPress
			onSingleTapUp
			onScroll
			onLongPress
			onFling
			重写onTouchEvent方法，或者注册TouchListener，持续将MotionEvent交给GestureDetectro处理

		OnDoubleTapListener（双击监听
		ScaleGestureDetector（检测双指缩放
			
		手势分发及响应流程：
			view处理流程：
				由ACTION_DOWN开始的一组MovitonEvent
				onTouch返回true（流程持续返回
				若false，那么后续父view不会将该组事件分发到当前view
			ViewGroup处理流程：
				oninterceptTouchEvent：（拦截
					即使事件是先分发给子view，且子viewdispatchTouchEvent返回true，当前viewgroup依然有拦截能力
					例子（抖音点击进入视频由子view，滑动由group拦截进行
		

=============================================================================================
5/9
权限与网络请求
	Android的权限
		普通权限
			网络权限、获取网络状态、获取手机状态、获取wifi状态等
		敏感权限（危险权限
			写入SDK、获取SDK、拍摄照片视频、录音、拨打电话、读取写入联系人
			Android对所有敏感权限进行了分组，为权限组（例读写联系人
		权限申请
			6.0+需要在AndroidManifest中声明，并在运行时进行权限申请
				//检查是否授权
				checkSelfPermission(Mani fest . permission. WRITE_ EXTERNAL_ STORAGE)
				ContextCompat. checkSel fPermiss ion(this, Mani fest . permi ssion. WRITE_ EXTERNAL_ STORA
				//权限申请
				requestPermissions (new String[] {Mani fest. permission. CAMERA}，200) ;
				//权限申请结果
				public void onRequestPermi ssionsResult(int requestCode, @NonNull String[] permis

	HTTP请求状态
		请求类型
			get（Get请求：从服务端获取数据
			post
			head
			put
			delete
			connect
			options
			trace
			patch
			前面两种最常用
			Get请求：从服务端获取数据
			参数会拼接在url后面，用？来分割，内容必须是

			Post请求状态码：

			|      | 类别                               | 原因短语                   |
			| ---- | ---------------------------------- | -------------------------- |
			| 1XX  | Informational（信息性状态码）      | 接受的请求正在处理         |
			| 2XX  | Success（成功状态码）              | 请求正常处理完毕           |
			| 3XX  | Redirection（重定向状态码）        | 需要进行附加操作已完成请求 |
			| 4XX  | Client Error（客户端错误状态码）   | 服务器无法处理请求         |
			| 5XX  | Server Error（服务器端错误状态码） | 服务器处理请求出错         |

		HTTP请求变迁
			历史

		OkHttp
			同步请求
				implementation(&#34;com. squareup . okhttp3:okhttp:4.12.0&#34;)
				//1.创建OkHt tpClient
				private final OkHttpClient okHttpClient = new OkHttpClient . Builder() . build();
				//2.创建Request
				Request request = new Request. Builder()
					。get()
				.url(&#34;https:/ /hotfix-service-prod.g. mi. com/ quick- game/ game/109&#34;)
					。build();
				//3.同步请求
				Response response = okHttpClient . newCall(request) .execute();
			
			异步请求
				Request request = new Request . Builder()
					.get()
					.url(&#34;https://hotfix-service-prod. g. mi . com/quick-game/ game/109&#34;)
					.build();
				okHttpClient . newCall(request) . enqueue (new Callback() {
				@Override
				public void onFailure (@NonNull Call call, @NonNull I0Exception e) {
					Log. i(TAG，&#34;网络请求失败&#34;);
				}
				@Override
				public void onResponse (@NonNull Call call, @NonNull Response response) throw
					Log. i(TAG，&#34;网络请求成功，code ”+ response . code());
				}
				});
			GSON：谷歌发布的一个json解析框架
			get、post、postByfromData
			
			OkHttp拦截器
				好比是一个拦截器集合的递归流程
					优势：给予开发者充分的流程控制，同时保证内部流程的一致性
					
			Okhttp主要组成部分：
				OkHttpClient: 一个okhttp的整个对外访问的类。
				Request: 处理关于请求方面的操作
				Response: 处理关于响应方面的操作
				Call: 一个接口，主要是用来接受Request和返回Response。并做些其他相关操作
				Dispatch: 一个分发器。由于OkHttp是支持并发的网络框架，所以里面用到了线程池和队列的逻辑，这歌分发器决定何时处理请求，以及将请求分发到哪一部分。
				Interator: 拦截器，在OkHttp中，主要是通过拦截器做网络处理，最终底层通过Socket请求完后将数据逐层返回，其结构采用责任链模式。
			使用的三步骤：
				创建OkHttpClient和Request对象
				发送请求，处理响应
				使用Response对象

	Handler
		UI线程是android应用的一个特殊线程，用于处理用户界面的更新和事件处理（主线程
		因为安卓工具包线程不安全。

		Handler是一套Android消息传递机制，用于线程间通信
		用法：
			sendMessage()
			post()
			dipatchMessage(Message msg)

	Retrofit
		现在比较流行的网络请求框架，可以是理解为okhttp的加强版，底层封装了Okhttp
		本质过程: App应用程序通过Retrofit请求网络，实质上是使用Retrofit接口层封装请求参数、
			Header、Url等信息，之后由okhttp来完成后续的请求工作。在服务端返回数据后，OkHttp将原始数
			据交给Retrofit, Retrofit根据用户 需求解析。

		
	sharedpreferences
		轻量级的存储辅助类






=============================================================
5/10
内存泄漏
	java垃圾回收机制
		GC是由java虚拟机垃圾回收器提供的一种对内存回收的机制，一般在空闲或内存占用过高时
		算法：
			引用计数算法
				-个对象被创建之后，系统会给这个对象初始化- - -个引用计数器，当这个对象被引用了，则计数器
				+1,而当该引用失效后，计数器便-1,直到计数器为0，意味着该对象不再被使用了，则可以将其
				进行回收了。
				优点:判定比较简单，效率也很高
				缺点:无法避免循环引用，即两个对象之间循环引用的时候，各自的计数器始终不会变成0
			可达性分析：
				从某一指定根对象（GC Roots 出发，一步步遍历找到和这个根对象有引用关系的对象
				若引用不可达，及判断为垃圾

			引用分类：
				强引用（空回收
				弱引用（均会被回收
				软引用（内存不足时回收
				虚引用（最弱
	定义
		应该被回收的内存没有被回收
	特征
		隐蔽性、积累性
	危害
		卡、内存占用、崩溃
	原因
		短生命周期的对象被长生命周期的对象持有，导致无法被回收

	Profiler-memory工具
		多次重复进入同一个页面，多次主动触发GC观察内存是否回到初始水平
	LeakCanary 内存泄漏检测工具

	案例：
		1.
		2.匿名内部类隐式持有外部类的引用
		3.定时任务
	

ANR应用程序响应
	产生原因
		只有主线程会触发，UI线程正在响应另一个事件，被某种原因阻塞
		发生输入或某些特定操作
	保护程序
	类型
		keyDispatchTimeout
		BroadcastTimeout
		SrviceTimeout	

	案例
		主线程执行耗时（大量的计算、循环、递归和IO操纵等行为
		主线程死锁
			解决方法：使用ReentrantLock代替synchronized，同时tryLock()增加最大等待时间，超过则释放

	adb bugreport -&gt;打包日志信息，查错
	ANR-WatchDog
		开源框架，短小精悍的UI卡顿检测框架
		原理：异步使用主线程Handler发送消息，指定休眠5s，若唤醒没有执行，则认为卡顿
		弊端：但ANR统计并不准确，无法保证能捕捉所有 ANR，对阈值的设置直接影响捕获概率


================================================================================
5/11
Kotlin
	提高Android开发效率和应用健壮性
	简单高效
	
	变量：
		可自动识别变量
		val声明的变量，为不可变变量（final。var声明的为普通变量
		
	类型：
		面向对象，Byte/Int,Long/float,double/String/Char
		数字类型：隐式类型转换被抛弃，只能采用显式转换函数
		空安全：val j:Double?= null	可空变量不能赋值给不可空变量
		类型系统：Any是所有类型的父类（根类型，分两个版本（是否可空
		布尔类型：同其他语言
		字符、字符串：提供简洁的字符串模板，新增三个引号表示多行复杂文本（围栏
		数组：arrayOf()创建数组，输入参数

	函数和流程控制：
		函数：
			声明：fun 函数名（参数：参数类型）：返回值类型{ 函数体 }
			调用：函数名（参数赋值）未被赋值则使用定义时的默认值
		流程控制：
			Elvis表达式：变量后加？判断空，流程是否继续
			when(i){
				1-&gt;
				2-&gt;
				else-&gt;	}
			for(i in ... downto ... step num){}
			while

	面对对象和特殊类：
		面向对象：
			借助Kotlin属性的自定义getter
			class Person(val name:String){
				var age:INt = 0
					set(value:Int){
						log(value)
						field = value
					}
				}
			定义抽象类：加abstract关键字
			继承：
				override关键字 
				正常类需要加open关键字才能被继承（方法前也要加
			嵌套：inner关键字
				
		特殊类：
			数据类：加data关键字
			枚举类：数量有限，可以枚举出每一种情况，推到出逻辑是否完备。
				每一个枚举的值，在内存中始终是同一个对象
			密封类：sealed关键字
			内部类：object: + 实现或接口，继承一个抽象类可以实现多个接口
			伴生对象 ：companion关键字（类似java静态方法调用static
		
		扩展函数：
			从类的外部扩展出来一个函数。fun String.函数名（）-》扩展String
		
		高阶函数：函数当成变量来定义，可以赋值、有类型
			将函数作为参数传给给函数（高阶
			常用：let、run、use、also等
		委托：依靠传入对象，通过by将接口委托，A属性传给B属性
			懒加载委托 by Lazy{}	

	JvmTarget兼容问题：
		app/build.gradle.kts
		kotlin{ jvmToolchain(17)}	大于17
		Settings-&gt;build-&gt;build tools-&gt;gradle


	协程：
		互相协助的程序
		协程可以看做是一个轻量级的线程（但并不是线程）
		进程包含线程，线程包含协程，协程是工作在线程之上的
		协程的切换（挂起、恢复）可以由程序自己控制，协程通过主动让出运行权来实现协作，不需要操作系统去进行调度，这样就减少了线程切换所带来的开销。
		避免异步回调地狱
		
		非阻塞式：会挂起自身
			launch：非阻塞，不返回结果
			async：非阻塞，返回结果
			runBlocking 有时希望协程完成后再转
			delay：挂起
		关键字suspend 用于暂停执行当前协程，并保存所有局部变量。
		关键字resume 用于让已挂起的协程从挂起处继续执行。

		协程间传递数据--channel
		启动方式
		调度器---一个协程上下文的实现

		
</code></pre></article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='https://JieLeo.github.io/js/toc.js'></script>
<link rel="stylesheet" href='https://JieLeo.github.io/css/toc.css' />

<div id="gitalk-container" class="gitalk-container"></div>
<link rel="stylesheet" href='https://JieLeo.github.io/css/gitalk.css'>
<script src='https://JieLeo.github.io/js/gitalk.min.js'></script>
<script>
  const gitalk = new Gitalk({
    clientID: 'JieLeo',
    clientSecret: 'qlh030428',
    repo: 'JieLeo.github.io',
    owner: 'JieLeo',
    admin: ['JieLeo'],
    id: eval("location.pathname"), 
    distractionFreeMode: false 
  });
  (function() {
    gitalk.render('gitalk-container');
  })();
</script>


  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://JieLeo.github.io/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>
</body>

<script type="application/javascript" src="https://JieLeo.github.io/js/github-style.js"></script>




</html>